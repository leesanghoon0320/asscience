<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì‚¬ìƒì²´ì§ˆ ê±´ê°•Â·í”¼ë¶€ ì§„ë‹¨ - ë‚˜ë§Œì˜ ë§ì¶¤ ê±´ê°• ê°€ì´ë“œ</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    min-height: 100vh;
    color: #333;
    line-height: 1.6;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.header {
    text-align: center;
    padding: 40px 0 30px;
}

.header h1 {
    font-size: 2.5rem;
    color: #2c3e50;
    margin-bottom: 10px;
    font-weight: 700;
}

.header p {
    color: #7f8c8d;
    font-size: 1.1rem;
}

.progress-container {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 10px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    border-radius: 10px;
    transition: width 0.3s ease;
    width: 0%;
}

.progress-text {
    text-align: center;
    color: #7f8c8d;
    font-size: 0.9rem;
}

.question-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 30px;
    margin-bottom: 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    display: none;
    animation: fadeIn 0.5s ease;
}

.question-card.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.question-number {
    display: inline-block;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    margin-bottom: 15px;
}

.question-text {
    font-size: 1.2rem;
    color: #2c3e50;
    margin-bottom: 25px;
    font-weight: 500;
}

.answer-options {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.answer-option {
    background: #f8f9fa;
    border: 2px solid transparent;
    padding: 15px 20px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.answer-option:hover {
    background: #e9ecef;
    transform: translateX(5px);
}

.answer-option.selected {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #667eea;
}

.answer-option input[type="radio"] {
    position: absolute;
    opacity: 0;
}

.answer-option label {
    cursor: pointer;
    display: block;
    font-size: 1rem;
}

.navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    gap: 15px;
}

.nav-btn {
    padding: 12px 30px;
    border: none;
    border-radius: 25px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
}

.prev-btn {
    background: #e9ecef;
    color: #495057;
}

.prev-btn:hover {
    background: #dee2e6;
}

.next-btn, .submit-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    flex: 1;
}

.next-btn:hover, .submit-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
}

.next-btn:disabled, .submit-btn:disabled {
    background: #adb5bd;
    cursor: not-allowed;
    transform: none;
}

.next-btn:disabled:hover, .submit-btn:disabled:hover {
    transform: none;
    box-shadow: none;
}

.result-container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    display: none;
    animation: fadeIn 0.5s ease;
}

.result-header {
    text-align: center;
    margin-bottom: 40px;
}

.result-title {
    font-size: 2rem;
    color: #2c3e50;
    margin-bottom: 10px;
}

.constitution-name {
    font-size: 2.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
}

.result-chart {
    margin: 40px 0;
    padding: 30px;
    background: #f8f9fa;
    border-radius: 15px;
}

.chart-title {
    text-align: center;
    color: #495057;
    margin-bottom: 20px;
    font-size: 1.1rem;
}

.chart-bars {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.chart-item {
    display: flex;
    align-items: center;
    gap: 15px;
}

.chart-label {
    width: 80px;
    text-align: right;
    font-weight: 600;
    color: #495057;
}

.chart-bar-container {
    flex: 1;
    height: 30px;
    background: #e9ecef;
    border-radius: 15px;
    position: relative;
    overflow: hidden;
}

.chart-bar {
    height: 100%;
    border-radius: 15px;
    transition: width 1s ease;
    position: relative;
}

.chart-bar.te { background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%); }
.chart-bar.sy { background: linear-gradient(90deg, #fa709a 0%, #fee140 100%); }
.chart-bar.se { background: linear-gradient(90deg, #30cfd0 0%, #330867 100%); }
.chart-bar.ty { background: linear-gradient(90deg, #a8edea 0%, #fed6e3 100%); }

.chart-value {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: white;
    font-weight: 600;
    font-size: 0.9rem;
}

.result-section {
    margin: 30px 0;
}

.result-section h3 {
    color: #2c3e50;
    font-size: 1.4rem;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.result-section p {
    color: #495057;
    line-height: 1.8;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    white-space: pre-wrap;
}

.disclaimer {
    text-align: center;
    color: #6c757d;
    font-size: 0.9rem;
    margin-top: 30px;
    padding: 20px;
    background: #fff3cd;
    border-radius: 12px;
    border: 1px solid #ffeaa7;
}

.restart-btn {
    display: block;
    margin: 30px auto 0;
    padding: 15px 40px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 30px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
}

.restart-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
}

@media (max-width: 768px) {
    .header h1 {
        font-size: 2rem;
    }
    
    .question-card {
        padding: 20px;
    }
    
    .navigation {
        flex-direction: column;
    }
    
    .chart-label {
        width: 60px;
        font-size: 0.9rem;
    }
}
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ì‚¬ìƒì²´ì§ˆ ê±´ê°•Â·í”¼ë¶€ ì§„ë‹¨</h1>
        <p>60ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ë§Œì˜ ì²´ì§ˆê³¼ ë§ì¶¤ ê±´ê°• ê°€ì´ë“œ</p>
    </div>

    <div class="progress-container" id="progressContainer">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">0 / 60 ë¬¸í•­</div>
    </div>

    <div id="surveySection">
        <div id="questionsContainer"></div>
        
        <div class="navigation">
            <button type="button" class="nav-btn prev-btn" id="prevBtn" style="display: none;">ì´ì „</button>
            <button type="button" class="nav-btn next-btn" id="nextBtn" disabled>ë‹¤ìŒ</button>
            <button type="button" class="nav-btn submit-btn" id="submitBtn" style="display: none;" disabled>ê²°ê³¼ í™•ì¸</button>
        </div>
    </div>

    <div class="result-container" id="resultContainer">
        <div class="result-header">
            <h2 class="result-title">ë‹¹ì‹ ì˜ ì²´ì§ˆì€</h2>
            <div class="constitution-name" id="constitutionName"></div>
        </div>

        <div class="result-chart">
            <h3 class="chart-title">ì²´ì§ˆë³„ ì ìˆ˜ ë¶„ì„</h3>
            <div class="chart-bars" id="chartBars"></div>
        </div>

        <div class="result-section">
            <h3>ğŸ¥ ê±´ê°• ê°€ì´ë“œ</h3>
            <p id="healthGuide"></p>
        </div>

        <div class="result-section">
            <h3>âœ¨ í”¼ë¶€ ê´€ë¦¬ íŒ</h3>
            <p id="skinGuide"></p>
        </div>

        <div class="result-section">
            <h3>ğŸ’„ ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„</h3>
            <p id="cosmeticsGuide"></p>
        </div>

        <div class="disclaimer">
            âš ï¸ ë³¸ ê²°ê³¼ëŠ” ìê°€ ì„¤ë¬¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì°¸ê³ ìš© ì •ë³´ì…ë‹ˆë‹¤.<br>
            ì •í™•í•œ ì§„ë‹¨ì„ ìœ„í•´ì„œëŠ” ì „ë¬¸ í•œì˜ì‚¬ì˜ ìƒë‹´ì„ ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
        </div>

        <button type="button" class="restart-btn" onclick="location.reload()">ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°</button>
    </div>
</div>

<script>
const questions = [
    {"text": "ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ì²´ì¤‘ì´ ì‰½ê²Œ ì¦ê°€í•œë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì‹ìš•ì´ ê°•í•˜ê³  í•œ ë¼ ì‹ì‚¬ëŸ‰ì´ ë§ì€ í¸ì´ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë•€ì´ ë§ê³  ì‰½ê²Œ ë”ìœ„ë¥¼ íƒ„ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì–¼êµ´ì´ ë‘¥ê¸€ê³  ëª©ê³¼ ì–´ê¹¨ê°€ ë‘êº¼ìš´ í¸ì´ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì¶”ìœ„ë³´ë‹¤ ë”ìœ„ì— ì•½í•˜ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë°°ë¶€í„° ì‚´ì´ ì°ŒëŠ” ê²½í–¥ì´ ìˆë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ìŒì‹ì„ ë¹¨ë¦¬ ë¨¹ëŠ” ìŠµê´€ì´ ìˆë‹¤.", "weights": {"TE": 1, "SY": 2, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë§¥ë°•ì´ ëŠë¦° í¸ì´ë‹¤.", "weights": {"TE": 1, "SY": 0, "SE": 2, "TY": 0}},
    {"text": "ë‚˜ëŠ” ì•„ì¹¨ì— ì¼ì–´ë‚˜ë„ ëª¸ì´ ë¬´ê²ë‹¤.", "weights": {"TE": 2, "SY": 0, "SE": 1, "TY": 1}},
    {"text": "ë‚˜ëŠ” ìŒì£¼ í›„ ì–¼êµ´ì´ ì˜ ë¶‰ì–´ì§„ë‹¤.", "weights": {"TE": 1, "SY": 2, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì„±ê²©ì´ë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ìƒˆë¡œìš´ ì¼ì„ ì‹œë„í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ê°ì •ë³´ë‹¤ ì´ì„±ì„ ìš°ì„ ì‹œí•œë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ë‚¨ì˜ ë¶€íƒì„ ê±°ì ˆí•˜ê¸° ì–´ë µë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê³„íšëŒ€ë¡œ ì¼ì´ ì§„í–‰ë˜ì§€ ì•Šìœ¼ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ëŠ”ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ë¦¬ë” ì—­í• ë³´ë‹¤ëŠ” ì§€ì› ì—­í• ì´ í¸í•˜ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê°ì • í‘œí˜„ì´ ì§ì„¤ì ì´ë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì„¸ë¶€ì ì¸ ê²ƒê¹Œì§€ ì‹ ê²½ ì“°ëŠ” í¸ì´ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì§œì¦ì„ ì˜ ë‚´ì§€ ì•ŠëŠ” í¸ì´ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚˜ëŠ” ê²ƒì´ ì¦ê²ë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì†Œí™”ë¶ˆëŸ‰ì´ë‚˜ ì† ë”ë¶€ë£©í•¨ì„ ìì£¼ ê²½í—˜í•œë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê°€ìŠ´ì´ ë‹µë‹µí•˜ê±°ë‚˜ ìˆ¨ì´ ì°¨ëŠ” ëŠë‚Œì´ ìˆë‹¤.", "weights": {"TE": 2, "TY": 1, "SY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ìˆ˜ë©´ ì‹œê°„ì´ ê¸¸ì–´ë„ í”¼ê³¤í•˜ë‹¤.", "weights": {"TE": 2, "SE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë³€ë¹„ê°€ ìì£¼ ìˆë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì‹ì‚¬ í›„ ì¡¸ìŒì´ ìŸì•„ì§„ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ëª¸ì´ ìì£¼ ë¶“ëŠ”ë‹¤.", "weights": {"TE": 2, "SE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë‘í†µì´ ì¦ë‹¤.", "weights": {"SE": 2, "SY": 1, "TE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ì†ë°œì´ ì°¨ê°‘ë‹¤.", "weights": {"SE": 2, "TE": 0, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì•Œë ˆë¥´ê¸°ë‚˜ ë¹„ì—¼ ì¦ìƒì´ ìˆë‹¤.", "weights": {"SE": 2, "SY": 1, "TE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ì•„ì¹¨ì— ê¸°ì¹¨ì´ë‚˜ ê°€ë˜ê°€ ìˆë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” í”¼ë¶€ê°€ ë‘ê»ê³  ëª¨ê³µì´ ë„“ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” í”¼ë¶€ê°€ ì‰½ê²Œ ë²ˆë“¤ê±°ë¦°ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì—¬ë“œë¦„ì´ë‚˜ íŠ¸ëŸ¬ë¸”ì´ ì˜ ìƒê¸´ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” í”¼ë¶€ê°€ ê±´ì¡°í•˜ê³  ê°ì§ˆì´ ì˜ ì¼ì–´ë‚œë‹¤.", "weights": {"SE": 2, "SY": 1, "TE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” í™ì¡°ë‚˜ ë¶‰ì€ ê¸°ê°€ ì‰½ê²Œ ì˜¬ë¼ì˜¨ë‹¤.", "weights": {"SY": 2, "SE": 1, "TE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” íƒ„ë ¥ì´ ë¶€ì¡±í•˜ê³  ì”ì£¼ë¦„ì´ ì‹ ê²½ ì“°ì¸ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ë•€ì´ ë‚˜ë©´ í”¼ë¶€ê°€ ëˆì ê±°ë¦°ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” Tì¡´ì´ íŠ¹íˆ ë²ˆë“¤ê±°ë¦°ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ë³µí•©ì„± í”¼ë¶€ë¼ê³  ëŠë‚€ë‹¤.", "weights": {"SY": 2, "TE": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ë¯¼ê°ì„± í”¼ë¶€ë¼ê³  ëŠë‚€ë‹¤.", "weights": {"SE": 2, "SY": 1, "TE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì•¼ì‹ì´ë‚˜ ê°„ì‹ì„ ìì£¼ ë¨¹ëŠ”ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê·œì¹™ì ì¸ ìš´ë™ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.", "weights": {"TE": 2, "SE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë¨¹ëŠ” ê²ƒìœ¼ë¡œ í‘¼ë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ì¹´í˜ì¸ì„ ìì£¼ ì„­ì·¨í•œë‹¤.", "weights": {"SY": 2, "TE": 1, "SE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ìˆ˜ë¶„ ì„­ì·¨ê°€ ë¶€ì¡±í•œ í¸ì´ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ëŠ¦ê²Œ ì ë“¤ê³  ëŠ¦ê²Œ ì¼ì–´ë‚œë‹¤.", "weights": {"SY": 2, "TE": 1, "SE": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ìˆ ìë¦¬ë¥¼ ìì£¼ ê°–ëŠ”ë‹¤.", "weights": {"SY": 2, "TE": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì²´ì¤‘ ê´€ë¦¬ë¥¼ ìœ„í•´ ë‹¤ì´ì–´íŠ¸ë¥¼ ë°˜ë³µí•œë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ì•‰ì•„ì„œ ì¼í•˜ëŠ” ì‹œê°„ì´ ê¸¸ë‹¤.", "weights": {"TE": 2, "SE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì‹¬í•œ ìš´ë™ í›„ ì‰½ê²Œ ì§€ì¹œë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 1, "TY": 0}},
    {"text": "ë‚˜ëŠ” ëª©ì†Œë¦¬ê°€ êµµê³  í¬ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì…ì´ ìì£¼ ë§ˆë¥¸ë‹¤.", "weights": {"SE": 2, "TE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ì–´ê¹¨ì™€ ëª©ì´ ìì£¼ ê²°ë¦°ë‹¤.", "weights": {"TE": 2, "SE": 1, "SY": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê¸°ë¦„ì§„ ìŒì‹ì„ ì¢‹ì•„í•œë‹¤.", "weights": {"TE": 2, "SY": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ëª¸ì— ì—´ì´ ë§ì•„ ì ì„ ì„¤ì¹˜ëŠ” í¸ì´ë‹¤.", "weights": {"TE": 2, "SY": 1, "TY": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì°¬ ìŒì‹ì´ë‚˜ ìŒë£Œë¥¼ ì¢‹ì•„í•œë‹¤.", "weights": {"SY": 2, "TE": 1, "SE": 0, "TY": 1}},
    {"text": "ë‚˜ëŠ” ê°€ë§Œíˆ ìˆê¸°ë³´ë‹¤ ì›€ì§ì´ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ì™¸ëª¨ì— ê´€ì‹¬ì´ ë§ë‹¤.", "weights": {"SY": 2, "TY": 1, "TE": 1, "SE": 0}},
    {"text": "ë‚˜ëŠ” ìŒì‹ì„ ì²œì²œíˆ ì”¹ì–´ ë¨¹ëŠ”ë‹¤.", "weights": {"SE": 2, "TY": 1, "SY": 0, "TE": 1}},
    {"text": "ë‚˜ëŠ” ì£¼ë³€ ì˜¨ë„ ë³€í™”ì— ì˜ˆë¯¼í•˜ë‹¤.", "weights": {"SE": 2, "SY": 1, "TE": 0, "TY": 1}}
];

const advice = {
    "TE": {
        "title": "íƒœìŒì¸ (Tae-Eum)",
        "health": "íƒœìŒì¸ì€ ì²´ì§ˆì ìœ¼ë¡œ ìŠµí•˜ê³  ì—´ì´ ë§ì•„ ì²´ì¤‘ ê´€ë¦¬ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ê°„ê³¼ í ê¸°ëŠ¥ì„ ê°•í™”í•˜ëŠ” ê²ƒì´ í•µì‹¬ì´ë©°, ì¤‘ê°•ë„ì˜ ê¾¸ì¤€í•œ ìœ ì‚°ì†Œ ìš´ë™(ì£¼ 3-4íšŒ, 30ë¶„ ì´ìƒ)ì„ ì¶”ì²œí•©ë‹ˆë‹¤. ì‹ì‚¬ëŠ” ì±„ì†Œì™€ ì‹ì´ì„¬ìœ ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ë˜, ê³¼ì‹ì„ í”¼í•˜ê³  ì²œì²œíˆ ë“œì„¸ìš”. ì‚¬ìš°ë‚˜ë‚˜ ë°˜ì‹ ìš•ìœ¼ë¡œ ë•€ì„ ë‚´ëŠ” ê²ƒë„ ë„ì›€ì´ ë©ë‹ˆë‹¤.",
        "skin": "íƒœìŒì¸ì€ í”¼ì§€ ë¶„ë¹„ê°€ ë§ê³  ëª¨ê³µì´ ë„“ì–´ ì² ì €í•œ í´ë Œì§•ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. ì•„ì¹¨ì €ë…ìœ¼ë¡œ ì ¤ íƒ€ì…ì´ë‚˜ í¼ í´ë Œì €ë¡œ ê¹¨ë—ì´ ì„¸ì•ˆí•˜ê³ , BHA ì„±ë¶„ì˜ ê°ì§ˆ ì œê±°ì œë¥¼ ì£¼ 2-3íšŒ ì‚¬ìš©í•˜ì„¸ìš”. ì£¼ 1íšŒ í´ë ˆì´ ë§ˆìŠ¤í¬ë¡œ ëª¨ê³µì„ ê´€ë¦¬í•˜ê³ , ê°€ë²¼ìš´ ìˆ˜ë¶„ í¬ë¦¼ì´ë‚˜ ì ¤ íƒ€ì… ë³´ìŠµì œë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶°ì£¼ì„¸ìš”.",
        "cosmetics": "ğŸ§ª ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„:\nâ€¢ BHA (ì‚´ë¦¬ì‹¤ì‚°): ëª¨ê³µ ì† í”¼ì§€ì™€ ê°ì§ˆ ì œê±°\nâ€¢ ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ: í”¼ì§€ ì¡°ì ˆ, ëª¨ê³µ ì¶•ì†Œ\nâ€¢ í‹°íŠ¸ë¦¬ ì˜¤ì¼: í•­ê·  ì‘ìš©ìœ¼ë¡œ íŠ¸ëŸ¬ë¸” ì˜ˆë°©\nâ€¢ ê·¸ë¦°í‹° ì¶”ì¶œë¬¼: í•­ì‚°í™” ë° í”¼ì§€ ì¡°ì ˆ\nâ€¢ ì•„ì—°(Zinc PCA): í”¼ì§€ ë¶„ë¹„ ì–µì œ\nâ€¢ ì¹´ì˜¬ë¦°/ë²¤í† ë‚˜ì´íŠ¸: í´ë ˆì´ ë§ˆìŠ¤í¬ ì£¼ì„±ë¶„\nâ€¢ ìœ„ì¹˜í•˜ì ¤: ëª¨ê³µ ìˆ˜ë ´ íš¨ê³¼"
    },
    "SY": {
        "title": "ì†Œì–‘ì¸ (So-Yang)",
        "health": "ì†Œì–‘ì¸ì€ ì—´ì´ ë§ê³  ì„±ê²©ì´ ê¸‰í•´ ì‹¬í˜ˆê´€ ê±´ê°•ì— ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ê°€ íŠ¹íˆ ì¤‘ìš”í•˜ë©°, ìš”ê°€ë‚˜ ëª…ìƒ ê°™ì€ ì •ì ì¸ ìš´ë™ì„ ë³‘í–‰í•˜ì„¸ìš”. ì¶©ë¶„í•œ ìˆ˜ë©´(7-8ì‹œê°„)ê³¼ ê·œì¹™ì ì¸ ìƒí™œ ë¦¬ë“¬ì„ ìœ ì§€í•˜ê³ , ë§µê³  ìê·¹ì ì¸ ìŒì‹ì€ í”¼í•˜ë©´ì„œ ìˆ˜ë¶„ì„ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”. ê°ì • ì¡°ì ˆì„ ìœ„í•œ í˜¸í¡ë²•ë„ ë„ì›€ì´ ë©ë‹ˆë‹¤.",
        "skin": "ì†Œì–‘ì¸ì€ ë³µí•©ì„± í”¼ë¶€ê°€ ë§ì•„ Tì¡´ê³¼ Uì¡´ì„ êµ¬ë¶„í•´ì„œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì•½ì‚°ì„± í´ë Œì €ë¡œ ì„¸ì•ˆí•˜ê³ , ì•Œì½”ì˜¬ì´ ì—†ëŠ” í† ë„ˆë¡œ pH ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶°ì£¼ì„¸ìš”. Tì¡´ì—ëŠ” ê°€ë²¼ìš´ ì„¸ëŸ¼ì„, Uì¡´ì—ëŠ” ë³´ìŠµ í¬ë¦¼ì„ ì‚¬ìš©í•˜ëŠ” ë©€í‹° ë§ˆìŠ¤í‚¹ì„ ì¶”ì²œí•©ë‹ˆë‹¤. ìì™¸ì„  ì°¨ë‹¨ì œëŠ” í•„ìˆ˜ì´ë©°, ì§„ì • ì„±ë¶„ì´ í¬í•¨ëœ ì œí’ˆì„ ì„ íƒí•˜ì„¸ìš”.",
        "cosmetics": "ğŸ§ª ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„:\nâ€¢ ì•Œë¡œì—ë² ë¼: ì—´ì„ ì‹íˆê³  ì§„ì • íš¨ê³¼\nâ€¢ ì¹´ëª¨ë§ˆì¼: ì˜ˆë¯¼í•œ í”¼ë¶€ ì§„ì •\nâ€¢ íˆì•Œë£¨ë¡ ì‚°: ê°€ë²¼ìš´ ìˆ˜ë¶„ ê³µê¸‰\nâ€¢ ë¹„íƒ€ë¯¼ B5 (íŒí…Œë†€): ì§„ì • ë° ì¬ìƒ\nâ€¢ ê°ì´ˆ ì¶”ì¶œë¬¼: í•­ì—¼ ë° ë¯¸ë°± íš¨ê³¼\nâ€¢ ë…¹ì°¨ ì¶”ì¶œë¬¼: í•­ì‚°í™” ë° ì§„ì •\nâ€¢ ìŠ¤ì¿ ì•Œë€: ê°€ë²¼ìš´ ë³´ìŠµ"
    },
    "SE": {
        "title": "ì†ŒìŒì¸ (So-Eum)",
        "health": "ì†ŒìŒì¸ì€ ì†Œí™”ê¸°ê°€ ì•½í•˜ê³  ì²´ì˜¨ì´ ë‚®ì•„ ëª¸ì„ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë”°ëœ»í•œ ìŒì‹ì„ ê·œì¹™ì ìœ¼ë¡œ ì†ŒëŸ‰ì”© ìì£¼ ë“œì‹œê³ , ìƒê°•ì°¨ë‚˜ ëŒ€ì¶”ì°¨ ê°™ì€ ë”°ëœ»í•œ ì°¨ë¥¼ ì¦ê¸°ì„¸ìš”. ê³¼ê²©í•œ ìš´ë™ë³´ë‹¤ëŠ” ê±·ê¸°, ìŠ¤íŠ¸ë ˆì¹­ ê°™ì€ ê°€ë²¼ìš´ ìš´ë™ì´ ì í•©í•©ë‹ˆë‹¤. ì¶©ë¶„í•œ íœ´ì‹ê³¼ í•¨ê»˜ ë³µë¶€ë¥¼ ë”°ëœ»í•˜ê²Œ í•˜ëŠ” ì°œì§ˆë„ ì¢‹ìŠµë‹ˆë‹¤.",
        "skin": "ì†ŒìŒì¸ì€ ê±´ì¡°í•˜ê³  ë¯¼ê°í•œ í”¼ë¶€ê°€ ë§ì•„ ë³´ìŠµê³¼ ì§„ì •ì´ í•µì‹¬ì…ë‹ˆë‹¤. ì„¸ë¼ë§ˆì´ë“œ, íˆì•Œë£¨ë¡ ì‚°ì´ í’ë¶€í•œ ë³´ìŠµì œë¥¼ ì‚¬ìš©í•˜ê³ , ì•½ì‚°ì„± ì €ìê·¹ í´ë Œì €ë¥¼ ì„ íƒí•˜ì„¸ìš”. ê°ì§ˆ ì œê±°ëŠ” ìµœì†Œí™”í•˜ê³ , ì„¼í…”ë¼, ë³‘í’€ ì¶”ì¶œë¬¼ ê°™ì€ ì§„ì • ì„±ë¶„ì„ í™œìš©í•˜ì„¸ìš”. ë¯¸ìŠ¤íŠ¸ë¥¼ ìì£¼ ë¿Œë ¤ ìˆ˜ë¶„ì„ ë³´ì¶©í•˜ê³ , ë³´ìŠµ íŒ©ì„ ì£¼ 2-3íšŒ ì‚¬ìš©í•˜ì„¸ìš”.",
        "cosmetics": "ğŸ§ª ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„:\nâ€¢ ì„¸ë¼ë§ˆì´ë“œ: í”¼ë¶€ ì¥ë²½ ê°•í™”\nâ€¢ ì½œë ˆìŠ¤í…Œë¡¤: í”¼ë¶€ ë³´í˜¸ë§‰ ë³µêµ¬\nâ€¢ ì‹œì–´ë²„í„°: ê¹Šì€ ë³´ìŠµê³¼ ì˜ì–‘\nâ€¢ ë³‘í’€ ì¶”ì¶œë¬¼(ì„¼í…”ë¼): ì§„ì • ë° ì¬ìƒ\nâ€¢ ë§ˆë°ì¹´ì†Œì‚¬ì´ë“œ: ë¯¼ê°ì„± ì¼€ì–´\nâ€¢ ê¸€ë¦¬ì„¸ë¦°: ìˆ˜ë¶„ ëŒì–´ë‹¹ê¹€\nâ€¢ ìŠ¤ì¿ ì•Œë€: í”¼ë¶€ ì¹œí™”ì  ì˜¤ì¼"
    },
    "TY": {
        "title": "íƒœì–‘ì¸ (Tae-Yang)",
        "health": "íƒœì–‘ì¸ì€ ìƒì²´ì— ì—´ì´ ë§ê³  í•˜ì²´ê°€ ì•½í•´ ê· í˜•ì„ ë§ì¶”ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. í•˜ì²´ ìš´ë™ì„ ê°•í™”í•˜ê³ , ëª…ìƒì´ë‚˜ í˜¸í¡ ìš´ë™ìœ¼ë¡œ ë§ˆìŒì„ ì•ˆì •ì‹œí‚¤ì„¸ìš”. ê³¼ë„í•œ ìŒì£¼ì™€ ì§  ìŒì‹ì€ í”¼í•˜ê³ , ì‹ ì„ í•œ ê³¼ì¼ê³¼ ì±„ì†Œë¥¼ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”. ê·œì¹™ì ì¸ ìƒí™œ ìŠµê´€ì„ ìœ ì§€í•˜ê³ , ì¶©ë¶„í•œ ìˆ˜ë©´ì„ í†µí•´ ê°„ ê¸°ëŠ¥ì„ ë³´í˜¸í•˜ì„¸ìš”.",
        "skin": "íƒœì–‘ì¸ì€ ì—´ì´ ë§ì•„ í™ì¡°ì™€ íŠ¸ëŸ¬ë¸”ì´ ìƒê¸°ê¸° ì‰½ìŠµë‹ˆë‹¤. ì¿¨ë§ íš¨ê³¼ê°€ ìˆëŠ” ì œí’ˆì„ ì‚¬ìš©í•˜ê³ , í•­ì‚°í™” ì„±ë¶„(ë¹„íƒ€ë¯¼ C, E)ì´ í’ë¶€í•œ ì„¸ëŸ¼ì„ í™œìš©í•˜ì„¸ìš”. ìê·¹ì ì¸ ìŠ¤í¬ëŸ½ì€ í”¼í•˜ê³ , ì§„ì • ë§ˆìŠ¤í¬ë¥¼ ì£¼ 1-2íšŒ ì‚¬ìš©í•˜ì„¸ìš”. ê°€ë²¼ìš´ ìˆ˜ë¶„ í¬ë¦¼ìœ¼ë¡œ ë§ˆë¬´ë¦¬í•˜ê³ , ë¯¼ê°í•œ ë‚ ì—ëŠ” ì‹œì¹´ í¬ë¦¼ìœ¼ë¡œ ì§„ì •ì‹œì¼œ ì£¼ì„¸ìš”.",
        "cosmetics": "ğŸ§ª ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„:\nâ€¢ ë¹„íƒ€ë¯¼ C: í•­ì‚°í™” ë° ë¯¸ë°±\nâ€¢ ë¹„íƒ€ë¯¼ E: í•­ì‚°í™” ë³´í˜¸\nâ€¢ ì•„ì¤„ë Œ: ê°•ë ¥í•œ ì§„ì • íš¨ê³¼\nâ€¢ ë©˜í†¨/í˜í¼ë¯¼íŠ¸: ì¿¨ë§ íš¨ê³¼\nâ€¢ ìº˜ëŸ¬ë¯¼: ì—´ ì§„ì • ë° ìˆ˜ë ´\nâ€¢ í”„ë¡œí´ë¦¬ìŠ¤: í•­ê·  ë° ì¬ìƒ\nâ€¢ í˜¸í˜¸ë°” ì˜¤ì¼: ê°€ë²¼ìš´ ë³´ìŠµ"
    }
};

let currentQuestion = 0;
const answers = {};

function createQuestionCard(index) {
    const q = questions[index];
    return `
        <div class="question-card ${index === 0 ? 'active' : ''}" data-question="${index}">
            <span class="question-number">ë¬¸í•­ ${index + 1}</span>
            <h2 class="question-text">${q.text}</h2>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(${index}, 2, this)">
                    <input type="radio" name="q${index}" value="2" id="q${index}_2">
                    <label for="q${index}_2">í•­ìƒ ê·¸ë ‡ë‹¤</label>
                </div>
                <div class="answer-option" onclick="selectAnswer(${index}, 1, this)">
                    <input type="radio" name="q${index}" value="1" id="q${index}_1">
                    <label for="q${index}_1">ê°€ë” ê·¸ë ‡ë‹¤</label>
                </div>
                <div class="answer-option" onclick="selectAnswer(${index}, 0, this)">
                    <input type="radio" name="q${index}" value="0" id="q${index}_0">
                    <label for="q${index}_0">ì•„ë‹ˆë‹¤</label>
                </div>
            </div>
        </div>
    `;
}

function selectAnswer(questionIndex, value, element) {
    answers[questionIndex] = value;
    
    // ì„ íƒëœ ì˜µì…˜ ìŠ¤íƒ€ì¼ ì ìš©
    const options = element.parentNode.querySelectorAll('.answer-option');
    options.forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    
    // ë¼ë””ì˜¤ ë²„íŠ¼ ì²´í¬
    element.querySelector('input').checked = true;
    
    // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
    if (questionIndex === questions.length - 1) {
        // ë§ˆì§€ë§‰ ë¬¸í•­ì¸ ê²½ìš° ì œì¶œ ë²„íŠ¼ í™œì„±í™”
        document.getElementById('submitBtn').disabled = false;
    } else {
        document.getElementById('nextBtn').disabled = false;
    }
    
    // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
    updateProgress();
}

function updateProgress() {
    const answeredCount = Object.keys(answers).length;
    const percentage = (answeredCount / questions.length) * 100;
    
    document.getElementById('progressFill').style.width = percentage + '%';
    document.getElementById('progressText').textContent = `${answeredCount} / ${questions.length} ë¬¸í•­`;
}

function showQuestion(index) {
    const cards = document.querySelectorAll('.question-card');
    cards.forEach(card => card.classList.remove('active'));
    
    setTimeout(() => {
        cards[index].classList.add('active');
    }, 100);
    
    // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
    document.getElementById('prevBtn').style.display = index === 0 ? 'none' : 'block';
    document.getElementById('nextBtn').style.display = index === questions.length - 1 ? 'none' : 'block';
    document.getElementById('submitBtn').style.display = index === questions.length - 1 ? 'block' : 'none';
    
    // ë‹¤ìŒ ë²„íŠ¼ ë¹„í™œì„±í™” (ë‹µë³€í•˜ì§€ ì•Šì€ ê²½ìš°)
    if (!answers.hasOwnProperty(index)) {
        document.getElementById('nextBtn').disabled = true;
        // ë§ˆì§€ë§‰ ë¬¸í•­ì—ì„œëŠ” ì œì¶œ ë²„íŠ¼ë„ ë¹„í™œì„±í™”
        if (index === questions.length - 1) {
            document.getElementById('submitBtn').disabled = true;
        }
    } else {
        document.getElementById('nextBtn').disabled = false;
        // ë§ˆì§€ë§‰ ë¬¸í•­ì—ì„œëŠ” ì œì¶œ ë²„íŠ¼ í™œì„±í™”
        if (index === questions.length - 1) {
            document.getElementById('submitBtn').disabled = false;
        }
    }
}

function calculateResult() {
    const scores = {TE: 0, SY: 0, SE: 0, TY: 0};
    
    questions.forEach((q, idx) => {
        const answer = answers[idx] !== undefined ? answers[idx] : 0;
        for (const key in scores) {
            scores[key] += q.weights[key] * answer;
        }
    });
    
    console.log('ìµœì¢… ì ìˆ˜:', scores);
    
    // ìµœê³  ì ìˆ˜ ì²´ì§ˆ ì°¾ê¸°
    const constitution = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    
    // ì ìˆ˜ë¥¼ ë°±ë¶„ìœ¨ë¡œ ë³€í™˜
    const maxPossibleScore = questions.length * 2 * 2; // ìµœëŒ€ ê°€ëŠ¥ ì ìˆ˜
    const percentages = {};
    for (const key in scores) {
        percentages[key] = Math.round((scores[key] / maxPossibleScore) * 100);
    }
    
    console.log('ì²´ì§ˆ:', constitution, 'ë°±ë¶„ìœ¨:', percentages);
    
    return { constitution, percentages };
}

function showResult(constitution, percentages) {
    const result = advice[constitution];
    
    document.getElementById('constitutionName').textContent = result.title;
    document.getElementById('healthGuide').textContent = result.health;
    document.getElementById('skinGuide').textContent = result.skin;
    document.getElementById('cosmeticsGuide').textContent = result.cosmetics;
    
    // ì°¨íŠ¸ ìƒì„±
    const chartHTML = `
        <div class="chart-item">
            <span class="chart-label">íƒœìŒì¸</span>
            <div class="chart-bar-container">
                <div class="chart-bar te" style="width: 0%">
                    <span class="chart-value">${percentages.TE}%</span>
                </div>
            </div>
        </div>
        <div class="chart-item">
            <span class="chart-label">ì†Œì–‘ì¸</span>
            <div class="chart-bar-container">
                <div class="chart-bar sy" style="width: 0%">
                    <span class="chart-value">${percentages.SY}%</span>
                </div>
            </div>
        </div>
        <div class="chart-item">
            <span class="chart-label">ì†ŒìŒì¸</span>
            <div class="chart-bar-container">
                <div class="chart-bar se" style="width: 0%">
                    <span class="chart-value">${percentages.SE}%</span>
                </div>
            </div>
        </div>
        <div class="chart-item">
            <span class="chart-label">íƒœì–‘ì¸</span>
            <div class="chart-bar-container">
                <div class="chart-bar ty" style="width: 0%">
                    <span class="chart-value">${percentages.TY}%</span>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('chartBars').innerHTML = chartHTML;
    
    // ìˆ¨ê¸°ê¸°/ë³´ì´ê¸°
    document.getElementById('surveySection').style.display = 'none';
    document.getElementById('progressContainer').style.display = 'none';
    document.getElementById('resultContainer').style.display = 'block';
    
    // ì°¨íŠ¸ ì• ë‹ˆë©”ì´ì…˜
    setTimeout(() => {
        document.querySelector('.chart-bar.te').style.width = percentages.TE + '%';
        document.querySelector('.chart-bar.sy').style.width = percentages.SY + '%';
        document.querySelector('.chart-bar.se').style.width = percentages.SE + '%';
        document.querySelector('.chart-bar.ty').style.width = percentages.TY + '%';
    }, 100);
}

function handleSubmit() {
    console.log('ê²°ê³¼ í™•ì¸ ë²„íŠ¼ í´ë¦­ë¨');
    console.log('ë‹µë³€ëœ ë¬¸í•­ ìˆ˜:', Object.keys(answers).length);
    console.log('ì „ì²´ ë¬¸í•­ ìˆ˜:', questions.length);
    
    // ëª¨ë“  ë¬¸í•­ì´ ë‹µë³€ë˜ì—ˆëŠ”ì§€ í™•ì¸
    const unansweredQuestions = [];
    for(let i = 0; i < questions.length; i++) {
        if (!answers.hasOwnProperty(i)) {
            unansweredQuestions.push(i + 1);
        }
    }
    
    if (unansweredQuestions.length > 0) {
        console.log('ë¯¸ë‹µë³€ ë¬¸í•­:', unansweredQuestions);
        if (confirm(`ì•„ì§ ${unansweredQuestions.length}ê°œì˜ ë¬¸í•­ì— ë‹µë³€í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nê·¸ë˜ë„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
            // ë¯¸ë‹µë³€ ë¬¸í•­ì€ 0ì ìœ¼ë¡œ ì²˜ë¦¬
            for(let i = 0; i < questions.length; i++) {
                if (!answers.hasOwnProperty(i)) {
                    answers[i] = 0;
                }
            }
        } else {
            return;
        }
    }
    
    try {
        const { constitution, percentages } = calculateResult();
        console.log('ê³„ì‚° ì™„ë£Œ:', constitution, percentages);
        showResult(constitution, percentages);
    } catch (error) {
        console.error('ê²°ê³¼ ê³„ì‚° ì¤‘ ì˜¤ë¥˜:', error);
        alert('ê²°ê³¼ ê³„ì‚° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    }
}

// ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', function() {
    console.log('ì•± ì´ˆê¸°í™” ì‹œì‘');
    
    // ëª¨ë“  ì§ˆë¬¸ ì¹´ë“œ ìƒì„±
    const container = document.getElementById('questionsContainer');
    questions.forEach((q, idx) => {
        container.innerHTML += createQuestionCard(idx);
    });
    
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    document.getElementById('prevBtn').addEventListener('click', () => {
        if (currentQuestion > 0) {
            currentQuestion--;
            showQuestion(currentQuestion);
        }
    });
    
    document.getElementById('nextBtn').addEventListener('click', () => {
        if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            showQuestion(currentQuestion);
        }
    });
    
    // ì œì¶œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.getElementById('submitBtn').addEventListener('click', handleSubmit);
    
    console.log('ì•± ì´ˆê¸°í™” ì™„ë£Œ');
});
</script>
</body>
</html>